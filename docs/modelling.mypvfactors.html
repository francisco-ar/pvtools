---

title: pvfactors

keywords: fastai
sidebar: home_sidebar

summary: "My custom pvfactors fucntions."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/07_modelling.mypvfactors.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.showdoc</span> <span class="kn">import</span> <span class="n">show_doc</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">DATAPATH</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">/</span><span class="s1">&#39;data&#39;</span>
<span class="n">DATAPATH</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(#1) [Path(&#39;/home/tc256760/Documents/capetools/data/sample_data.hdf&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;sample_data.hdf&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span><span class="n">DATAPATH</span><span class="o">/</span><span class="n">fname</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>temp_air</th>
      <th>wind_speed</th>
      <th>wind_dir</th>
      <th>ghi</th>
      <th>dni</th>
      <th>dhi</th>
      <th>ghi30</th>
      <th>ref_cell_30</th>
      <th>pressure</th>
      <th>humidity</th>
      <th>apparent_zenith</th>
      <th>zenith</th>
      <th>apparent_elevation</th>
      <th>elevation</th>
      <th>azimuth</th>
      <th>equation_of_time</th>
    </tr>
    <tr>
      <th>Date UTC</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 00:00:00</th>
      <td>4.39</td>
      <td>1.87</td>
      <td>230.1</td>
      <td>-0.83</td>
      <td>0.0</td>
      <td>-0.83</td>
      <td>-1.17</td>
      <td>0.0</td>
      <td>1004.92</td>
      <td>86.8</td>
      <td>157.028814</td>
      <td>157.028814</td>
      <td>-67.028814</td>
      <td>-67.028814</td>
      <td>12.053823</td>
      <td>-3.195874</td>
    </tr>
    <tr>
      <th>2019-01-01 01:00:00</th>
      <td>4.33</td>
      <td>2.87</td>
      <td>228.9</td>
      <td>-0.93</td>
      <td>0.0</td>
      <td>-0.83</td>
      <td>-1.06</td>
      <td>0.0</td>
      <td>1004.94</td>
      <td>86.8</td>
      <td>152.142520</td>
      <td>152.142520</td>
      <td>-62.142520</td>
      <td>-62.142520</td>
      <td>42.533373</td>
      <td>-3.215687</td>
    </tr>
    <tr>
      <th>2019-01-01 02:00:00</th>
      <td>4.29</td>
      <td>2.86</td>
      <td>229.4</td>
      <td>-0.83</td>
      <td>0.0</td>
      <td>-0.83</td>
      <td>-1.17</td>
      <td>0.0</td>
      <td>1004.68</td>
      <td>86.7</td>
      <td>143.742340</td>
      <td>143.742340</td>
      <td>-53.742340</td>
      <td>-53.742340</td>
      <td>63.390006</td>
      <td>-3.235491</td>
    </tr>
    <tr>
      <th>2019-01-01 03:00:00</th>
      <td>4.15</td>
      <td>2.04</td>
      <td>186.0</td>
      <td>-0.83</td>
      <td>0.0</td>
      <td>-0.83</td>
      <td>-1.06</td>
      <td>0.0</td>
      <td>1003.99</td>
      <td>85.7</td>
      <td>133.848157</td>
      <td>133.848157</td>
      <td>-43.848157</td>
      <td>-43.848157</td>
      <td>78.092116</td>
      <td>-3.255288</td>
    </tr>
    <tr>
      <th>2019-01-01 04:00:00</th>
      <td>3.85</td>
      <td>1.91</td>
      <td>200.9</td>
      <td>-0.72</td>
      <td>0.0</td>
      <td>-0.83</td>
      <td>-0.85</td>
      <td>0.0</td>
      <td>1003.76</td>
      <td>87.5</td>
      <td>123.435454</td>
      <td>123.435454</td>
      <td>-33.435454</td>
      <td>-33.435454</td>
      <td>89.729489</td>
      <td>-3.275076</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Defining-the-system">Defining the system<a class="anchor-link" href="#Defining-the-system">&#182;</a></h2><p>To quickly define a system, we create a method that will take care of the right naming and convenctions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="system_def" class="doc_header"><code>system_def</code><a href="https://github.com/tcapelle/capetools/tree/master/capetools/modelling/mypvfactors.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>system_def</code>(<strong><code>albedo</code></strong>:<code>float</code>=<em><code>0.4</code></em>, <strong><code>n_modules_vertically</code></strong>:<code>int</code>=<em><code>2</code></em>, <strong><code>module_size</code></strong>:<code>tuple</code>=<em><code>(1.69, 1.01)</code></em>, <strong><code>h_ground</code></strong>:<code>float</code>=<em><code>1</code></em>, <strong><code>surface_tilt</code></strong>:<code>int</code>=<em><code>38</code></em>, <strong><code>axis_azimuth</code></strong>:<code>int</code>=<em><code>0</code></em>, <strong><code>surface_azimuth</code></strong>:<code>int</code>=<em><code>180</code></em>, <strong><code>n_pvrows</code></strong>:<code>int</code>=<em><code>1</code></em>, <strong><code>tracking</code></strong>:<code>bool</code>=<em><code>False</code></em>, <strong><code>gcr</code></strong>:<code>float</code>=<em><code>0.5</code></em>)</p>
</blockquote>
<p>A wrapper function to define the pvfactors pvarray_parameters dictionary</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pvarray_params</span> <span class="o">=</span> <span class="n">system_def</span><span class="p">();</span> <span class="n">pvarray_params</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;n_pvrows&#39;: 1,
 &#39;pvrow_height&#39;: 1.6218180900789148,
 &#39;pvrow_width&#39;: 2.02,
 &#39;tracking&#39;: False,
 &#39;axis_azimuth&#39;: 0,
 &#39;surface_tilt&#39;: 38,
 &#39;surface_azimuth&#39;: 180,
 &#39;albedo&#39;: 0.4,
 &#39;gcr&#39;: 0.5,
 &#39;rho_front_pvrow&#39;: 0.075,
 &#39;rho_back_pvrow&#39;: 0.075,
 &#39;cut&#39;: {0: {&#39;front&#39;: 1, &#39;back&#39;: 7}}}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>temp_air</th>
      <th>wind_speed</th>
      <th>wind_dir</th>
      <th>ghi</th>
      <th>dni</th>
      <th>dhi</th>
      <th>ghi30</th>
      <th>ref_cell_30</th>
      <th>pressure</th>
      <th>humidity</th>
      <th>apparent_zenith</th>
      <th>zenith</th>
      <th>apparent_elevation</th>
      <th>elevation</th>
      <th>azimuth</th>
      <th>equation_of_time</th>
    </tr>
    <tr>
      <th>Date UTC</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 00:00:00</th>
      <td>4.39</td>
      <td>1.87</td>
      <td>230.10</td>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>-1.17</td>
      <td>0.0</td>
      <td>1004.92</td>
      <td>86.8</td>
      <td>157.028814</td>
      <td>157.028814</td>
      <td>-67.028814</td>
      <td>-67.028814</td>
      <td>12.053823</td>
      <td>-3.195874</td>
    </tr>
    <tr>
      <th>2019-01-01 01:00:00</th>
      <td>4.33</td>
      <td>2.87</td>
      <td>228.90</td>
      <td>-0.93</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>-1.06</td>
      <td>0.0</td>
      <td>1004.94</td>
      <td>86.8</td>
      <td>152.142520</td>
      <td>152.142520</td>
      <td>-62.142520</td>
      <td>-62.142520</td>
      <td>42.533373</td>
      <td>-3.215687</td>
    </tr>
    <tr>
      <th>2019-01-01 02:00:00</th>
      <td>4.29</td>
      <td>2.86</td>
      <td>229.40</td>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>-1.17</td>
      <td>0.0</td>
      <td>1004.68</td>
      <td>86.7</td>
      <td>143.742340</td>
      <td>143.742340</td>
      <td>-53.742340</td>
      <td>-53.742340</td>
      <td>63.390006</td>
      <td>-3.235491</td>
    </tr>
    <tr>
      <th>2019-01-01 03:00:00</th>
      <td>4.15</td>
      <td>2.04</td>
      <td>186.00</td>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>-1.06</td>
      <td>0.0</td>
      <td>1003.99</td>
      <td>85.7</td>
      <td>133.848157</td>
      <td>133.848157</td>
      <td>-43.848157</td>
      <td>-43.848157</td>
      <td>78.092116</td>
      <td>-3.255288</td>
    </tr>
    <tr>
      <th>2019-01-01 04:00:00</th>
      <td>3.85</td>
      <td>1.91</td>
      <td>200.90</td>
      <td>-0.72</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>-0.85</td>
      <td>0.0</td>
      <td>1003.76</td>
      <td>87.5</td>
      <td>123.435454</td>
      <td>123.435454</td>
      <td>-33.435454</td>
      <td>-33.435454</td>
      <td>89.729489</td>
      <td>-3.275076</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2019-12-31 19:00:00</th>
      <td>-0.84</td>
      <td>0.78</td>
      <td>23.88</td>
      <td>-1.36</td>
      <td>0.09</td>
      <td>-1.36</td>
      <td>-2.09</td>
      <td>-0.1</td>
      <td>1005.05</td>
      <td>100.0</td>
      <td>120.109907</td>
      <td>120.109907</td>
      <td>-30.109907</td>
      <td>-30.109907</td>
      <td>266.843772</td>
      <td>-2.982273</td>
    </tr>
    <tr>
      <th>2019-12-31 20:00:00</th>
      <td>-0.70</td>
      <td>0.16</td>
      <td>193.80</td>
      <td>-1.36</td>
      <td>-0.09</td>
      <td>-1.48</td>
      <td>-1.76</td>
      <td>-0.1</td>
      <td>1005.08</td>
      <td>100.0</td>
      <td>130.567903</td>
      <td>130.567903</td>
      <td>-40.567903</td>
      <td>-40.567903</td>
      <td>277.905352</td>
      <td>-3.002181</td>
    </tr>
    <tr>
      <th>2019-12-31 21:00:00</th>
      <td>-1.24</td>
      <td>0.42</td>
      <td>156.60</td>
      <td>-1.48</td>
      <td>-0.09</td>
      <td>-1.63</td>
      <td>-1.76</td>
      <td>0.0</td>
      <td>1004.99</td>
      <td>100.0</td>
      <td>140.699448</td>
      <td>140.699448</td>
      <td>-50.699448</td>
      <td>-50.699448</td>
      <td>291.371504</td>
      <td>-3.022080</td>
    </tr>
    <tr>
      <th>2019-12-31 22:00:00</th>
      <td>-0.95</td>
      <td>0.82</td>
      <td>185.40</td>
      <td>-1.36</td>
      <td>0.19</td>
      <td>-1.06</td>
      <td>-1.65</td>
      <td>0.0</td>
      <td>1004.65</td>
      <td>100.0</td>
      <td>149.735013</td>
      <td>149.735013</td>
      <td>-59.735013</td>
      <td>-59.735013</td>
      <td>309.824457</td>
      <td>-3.041970</td>
    </tr>
    <tr>
      <th>2019-12-31 23:00:00</th>
      <td>1.46</td>
      <td>2.88</td>
      <td>18.92</td>
      <td>-1.23</td>
      <td>-0.09</td>
      <td>-1.13</td>
      <td>-1.65</td>
      <td>0.1</td>
      <td>1004.61</td>
      <td>100.0</td>
      <td>156.040645</td>
      <td>156.040645</td>
      <td>-66.040645</td>
      <td>-66.040645</td>
      <td>337.110537</td>
      <td>-3.061851</td>
    </tr>
  </tbody>
</table>
<p>8760 rows Ã— 16 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Handy function to get back indxes of dates</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_index" class="doc_header"><code>get_index</code><a href="https://github.com/tcapelle/capetools/tree/master/capetools/modelling/mypvfactors.py#L45" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_index</code>(<strong><code>df</code></strong>, <strong><code>date</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">date</span> <span class="o">=</span> <span class="s1">&#39;12h 21 Jun 2019&#39;</span>
<span class="n">get_index</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>4116</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data_idx</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">date</span><span class="p">]</span>
<span class="n">data_idx</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>temp_air               25.320000
wind_speed              2.250000
wind_dir               51.160000
ghi                   388.440000
dni                     2.050000
dhi                   389.870000
ghi30                 380.150000
ref_cell_30           371.430000
pressure              988.020000
humidity               58.770000
apparent_zenith        22.637173
zenith                 22.637242
apparent_elevation     67.362827
elevation              67.362758
azimuth               193.074028
equation_of_time       -1.740346
Name: 2019-06-21 12:00:00, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that <code>surface_azimuth</code> and <code>surface_tilt</code> can be variable (i.e. one for each timestep)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;axis_azimuth&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;axis_azimuth&#39;</span><span class="p">],</span>
         <span class="s1">&#39;gcr&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;gcr&#39;</span><span class="p">],</span>
         <span class="s1">&#39;n_pvrows&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;n_pvrows&#39;</span><span class="p">],</span>
         <span class="s1">&#39;pvrow_height&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;pvrow_height&#39;</span><span class="p">],</span>
         <span class="s1">&#39;pvrow_width&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;pvrow_width&#39;</span><span class="p">],</span>
         <span class="s1">&#39;solar_azimuth&#39;</span><span class="p">:</span> <span class="n">data_idx</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">],</span>
         <span class="s1">&#39;solar_zenith&#39;</span><span class="p">:</span> <span class="n">data_idx</span><span class="p">[</span><span class="s1">&#39;zenith&#39;</span><span class="p">],</span>
         <span class="s1">&#39;surface_azimuth&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;surface_azimuth&#39;</span><span class="p">],</span>
         <span class="s1">&#39;surface_tilt&#39;</span><span class="p">:</span> <span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;surface_tilt&#39;</span><span class="p">],</span>
         <span class="s1">&#39;cut&#39;</span><span class="p">:</span><span class="n">pvarray_params</span><span class="p">[</span><span class="s1">&#39;cut&#39;</span><span class="p">]}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pvarray</span> <span class="o">=</span> <span class="n">OrderedPVArray</span><span class="o">.</span><span class="n">fit_from_dict_of_scalars</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Plot pvarray shapely geometries</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">pvarray</span><span class="o">.</span><span class="n">plot_at_idx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">with_surface_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>this is very useful, so we will wrap it up on a function.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="debug_pvarray" class="doc_header"><code>debug_pvarray</code><a href="https://github.com/tcapelle/capetools/tree/master/capetools/modelling/mypvfactors.py#L48" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>debug_pvarray</code>(<strong><code>data</code></strong>:<code>DataFrame</code>, <strong><code>pvarray_parameters</code></strong>:<code>dict</code>, <strong><code>date</code></strong>:<code>Union</code>[<code>str</code>, <code>int</code>], <strong><code>with_index</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Method to debug a pvfactors pvarray, plots the model at idx</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pvarray</span> <span class="o">=</span> <span class="n">debug_pvarray</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pvarray_params</span><span class="p">,</span> <span class="s1">&#39;13h 14 Jun 2019&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pvarray</span> <span class="o">=</span> <span class="n">debug_pvarray</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">pvarray_params</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmkAAADZCAYAAAB7JKeOAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjEsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy8QZhcZAAAZSklEQVR4nO3deZRdZZ2v8eeXqlOphJBUAoEwGlBoFVTQwNJGJTL0Rbuw5XYr4O1SnGixVfCCiqB209x7VaAdlkO3kUEINAaVMQ1tAoKoNEihoMxiGBISkjBUSIiVVCW/+8c5oUKoDDXuXXWez1pnpc4+p/b+5l2pk2/tvd+9IzORJElSuYwpOoAkSZJezpImSZJUQpY0SZKkErKkSZIklZAlTZIkqYQsaZIkSSXUWHSAwbbjjjvm9OnTi44hSZK0VXfdddfTmTm1t9dGXUmbPn067e3tRceQJEnaqoh4fHOvebhTkiSphCxpkiRJJVTqkhYRzRHxm4i4JyLui4izis4kSZI0HMp+Ttoa4LDMXBURFeBXEXFDZt5edDBJkqShVOqSltW7v6+qPa3UHt4RXpIkjXqlPtwJEBENEXE3sAyYn5l3FJ1JkiRpqJW+pGXmusw8ANgdODgi9t/0PRFxYkS0R0T78uXLhz+kJEnSICt9SdsgMzuAW4CjenltVmbOyMwZU6f2ej04SZKkEaXUJS0ipkZES+3rccARwIPFppIkSRp6pZ44AOwCXBwRDVQL5RWZObfgTJIkSUOu1CUtM38PHFh0DkmSpOFW6sOdkiRJ9cqSJkmSVEKWNEmSpBKypEmSJJWQJU2SJKmELGmSJEklZEmTJEkqIUuaJElSCVnSJEmSSsiSJkmSVEKWNEmSpBKypEmSJJWQJU2SJKmELGmSJEklZEmTJEkqIUuaJElSCVnSJEmSSsiSJmnEaWtrY/LkyUQEkydPpq2trehIkjToLGmSRpS2tjbmzJnDqs61TNltHzo6OpgzZ45FTdKo01h0AEnqi7lz57Iug7/7wmyaxk/gucULuOn8M5k7d27R0SRpULknTdKI0tHRwYQpO9M0bgIAk3fdm6NPnUXzjnsVnEySBpclTdKI0tLSwvPLFrKgff6Ly8Zutz1HnPgV5t3zVIHJJGlwWdIkjSitra1UKhVuu+I82q/9d9av6yYIxo0bx7x7lnL+TQtY272+6JiSNGCWNEkjyuzZszn22GNpaWnhwV9exX9fehZNDeuZOHESAA8+uZJPfOsG9njV/s7+lDSiRWYWnWFQzZgxI9vb24uOIWkYrers5sKfP8oTT6/m+edX0Nm5hu7uNbRf/W/88Y7rqVQqHHvsscyePbvoqJL0EhFxV2bO6O21Uu9Ji4g9IuLmiHggIu6LiJOLziSpfCY0N/LJo17JIa/ekc7ONURDA+O234G3tZ3JXx73Wbq6upz9KWnEKXVJA7qBUzPzNcCbgX+MiNcWnElSCY0ZM4ZjDt6NWy/9f7Xz1CAIXnXQ/+Cdn/42q9d6npqkkaXUJS0zl2Tmb2tfrwQeAHYrNpWkMlvx+N3M/cZJvPDcMrq71rB+/Tp22GNfjjn9QhYsXVV0PEnaZqUuaRuLiOnAgcAdvbx2YkS0R0T78uXLhzuapBJpbW3lheULueKs9/H4738JVPeoTZw8le/PX8At9y0rOKEkbZsRUdIiYgLwU+CUzHx+09czc1ZmzsjMGVOnTh3+gJJKY8Psz4kTxnPLRV/moVt+xNixFSZOnMS69cncu5bw4X+ZzQ5Tpzr7U1KplX52Z0RUgLnAzzLz61t7v7M7JW3qj0tWMvvWx1m9Zt2Lsz9Xr3ia+T84neeXPuHsT0mFGcmzOwO4AHhgWwqaJPVmn12257Sj92W3KeNYs2YNDU3NtEybzns+/0P22P8QZ39KKqVSlzTgEKANOCwi7q493lV0KEkjz8TxTZz8rlfx8O03EFH96GusNHHoB77Em979cTo6OgpOKEkv1Vh0gC3JzF8BUXQOSaPDmDFjePDGi1j59GLeePTHgIQIXvO2Y9hl7/1Y3dnN+OZSfyxKqiNl35MmSYOqtbWVh399Jdee+1FWPVO9IXsQ7PLK13PudQ/xxPIXCk4oSVWWNEl1ZcPsz+js4LrzPsbTj/6B5uaxTJw4iZV/7ubsy+/kwCOPc+anpMKVfnZnXzm7U1Jf3fC7Jdx833I6Ojro7FwDESx+8E5uuuhLVMaMceanpCEzYmd3StJweOeBu/Chma9g5YpnyYBK83ZMP2Amf3vmZVTGtzjzU1IhLGmSBLxm90lcc85HWfn04hdnK02YvDNHn/p9xk/bt9BskuqTJU2SasaOWcc153yYJ/7wK7q71rCuey2Vcdtx+EfO5vrfLma0nR4iqdwsaZJU09raSqWhgfnf/xy3zTmPdV1rCYLm5mZ+fu9yvn/jAjrXdhcdU1KdsKRJUs2GmZ8tLS388fb/5LbZ/0TTmHVMnDgJgEeWrOKT35nPnvu+wdmfkoacszslaQtWr+3mopsf49GlL7x438/1uY7fXX8R999yhff9lDQgzu6UpH4a39TISUfuzaH7TaWzs5MxlQrN4yfx5r87mbe+/3Tv+ylpyGz2/icRceEgrP/qzLx2ENYjSYUZM2YMR79pVz7xwfcy84R/prFxLEGw14GHMWnnV3DT+WcUHVHSKLSlm9SdMMB1J/AYYEmTNCqsevJ+rjvvY/zVSecxbvvJJMnkXffmPZ+7gIcXr2TfXbcvOqKkUWRrhzu/CezVj8feeGN0SaNMa2srq59dzE//5Xgeu+cXQPW+n9u37MD5P3+U+fc8VXBCSaPJ1kpaR2Y+3o/HY8MRXpKG04bZnxMnTuDWS87m/hsvYezYChMnTmL9+uTHv3yYo046l4bKWGd+Shqwzc7ujIhTgV9n5u39WvEAv7+/nN0paTg9tuwFLv7FYzy59Bk6O9eQAWteeJ6bfnAGK5c+6sxPSVu0pdmdXoJDkgZoVWc37z/jB0za9ZU0NU8gIuha28mts8+m49Hf8dxzzxUdUVJJeQkOSRpCE5obue4bn+Ch266jOmcKxjQ08tbjP8++72hj/fr1xQaUNCJZ0iRpELS0tHDnVd/h15efw5rVK1m3thMiePUhR/PtGx5hVae3k5LUN30qaRGxe0T8a0TcFBEPRcSCXh5/GqqwklRWra2tVCoVHrrtWq4996OsfGYxQTB27FgWPvNnzrv2IRYsXVV0TEkjyDaXtIiYCTwMfAZ4GzCe6mU2Nn24d05S3dn4vp/PL1/IreefRuOfl754389Vnd185Yp2ZrzzA973U9I22eaJAxHxG+ANwEeA/8jMUp5k4cQBSWVy4++XMu/3S+no6KCzcw3R0MCyBfcy798/S0Oksz+lOjdYEwdeB1yemZeWtaBJUtkc8fqd+djhe7Gy4xmioYFK0zh2e/VBHHPGJYyduKP3/ZS0WX0pac8Bzw5VEEkarfbZZXuu/tqHWbHsiReXbTdpKn99yvfYfvf9Ckwmqcz6UtLmAocOVRBJGs2aG+Gar36IP901n641q1m/vptK83hmfvDLXHPnk16mQ9LL9KWknQFMiojvRsR2QxVoUxFxYUQsi4h7h2ubkjTYNsz+vOWif+JXl5/Duq41BEFzczO/fOBpvjfvT6z2Mh2SNrLNJS0znwaOAo4DnoqIuyLi5708bhrkjD+sbVeSRqyNZ38uaJ/Hry76Ik3R9eLsz8eWrebT/3Yj0197kLM/JQF9m925H3AzsONW3pqZ2TDQYJtsezowNzP339p7nd0paaToXNvNxb94nD8uWcXzz6+gs3MN67rX8purvsMjv/kvKpWKsz+lUW6wZnd+HdgB+DLwCqCSmWN6eQxqQZOk0aq5qZF/OPKVHP66nej8859JkjGNFQ56zydobGqmq6vL2Z9SHetLSXsLcGVm/p/MXJiZ64YqVF9FxIkR0R4R7cuXLy86jiT1yTsP3IWbLvgia1dX70iwfl033Ws7Aejo6CgymqQCNfbhvWuBx4Yox4Bk5ixgFlQPdxYcR5L6bPXSR7j6aycw/YCZLLr/jheXt7S0FJhKUpH6siftFuDgIcohSXWttbWV7Ork4duuY3XHMgAqlQqtra0FJ5NUlL6UtM8Br42I0yMihirQpiLicuC/gb+IiEUR8ZHh2rYkDZeNZ39CdQ+akwak+taX2Z0XAnsBb6d62PNuYEUvb83MLKxIObtTkiSNFFua3dmXc9JO2OjrvWqP3iTVm7BLkiSpn/pS0jZXyiRJkjTItrmkZebjQxlEkiRJPfoycUCSJEnDZLMlLSJ2iojx/V3xQL9fkiSpnm1pT9oS4LQBrHsJcOoAvl+SJKlubamkDfRaaDEI65AkSapLW5s4cEJEzOznur09kyRJUj9traRNrz0kSZI0jDZb0jLTmZ+SJEkFsYhJkiSVkCVNkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRC21zSImKnoQwiSZKkHn3Zk7YwIuZExGFDlkaSJElA30raw8B7gfkR8XBEnBoROwxRLkmSpLq2zSUtM18HvBWYDewGnAssiojLIuLtQ5RPkiSpLvVp4kBm3paZJwC7AicDjwDHAzdHxAMRcXJETB78mJIkSfWlX7M7M3NFZn57o71rlwB7Al8HnoyIH0bEjEHMKUmSVFcG4xIczwDPAZ1AAE3AB4A7IuLqiJgyCNuQJEmqK/0qaRFRiYjjIuJm4H7gFGA58L+BHYHDgJ8B7wa+O0hZJUmS6kafSlpEvCoizgGeBC4DDgGuBo7MzFdn5jczsyMzb8nMdwFXAkcNJGBEHBURD0XEIxFx+kDWJY12bW1tTJ48mYhg8uTJtLW1FR1pVHBcX84xkYZe47a+MSJuBN5B9ZDmYuBsYFZmLt7Ct90FHNPfcBHRQHVP3JHAIuDOiLg2M+/v7zql0aqtrY05c+bQ1dUFQEdHB3PmzAFg9uzZRUYb0RzXl3NMpOGxzSWN6iHMm4HvAVdn5rpt+J7rqBa6/joYeCQzFwBExI+Av6F6iLV3qxfC3Z8ZwCalkel/7dfO+760Jy0tk9h+0hTueWon7l26A5VKhVtvmV90vBFrj9124uRPfZz9d36GN0xbxsoVz9LRsYJKpb1uP2s2/FubNqXCtCkVnnq2i6ee7arrMZGGQl8Od74mMw/PzJ9uY0EjM+/NzIv7mQ2q12NbuNHzRbVlLxERJ0ZEe0S0r127dgCbk0auDXs1WiZNoqkR9tvp2ZcsV/9sGL/9dnqWpsbq+G68vB5t+LtPm1yh0hBMm1J5yXJJg6MvF7N9aCiDbEb0sixftiBzVmbOyMwZTU1NwxBLKp9KpfofZceKFazthvuWTXnJcvXPhvG7b9kU1nZXx3fj5fVow9/9qee66FqXPPVs10uWSxocfTncWYRFwB4bPd+drR0+Hb8HHPCNocwkldJl//r0S84Tgup/msceeyxvn3lkgclGth9ccMlmx/Wo0+vzs2ZL/9bqdUyk/vvmZl8pe0m7E9gnIvaiOqP0OOD9xUaSymnDCdtz586lo6ODlpYWWltbPZF7gBzXl3NMpOERmS87elgqEfEuqjWzAbgwM//vlt4/Y8aMbG9vH5ZskiRJAxERd2Vmr3dpKvueNDLzeuD6onNIkiQNp8G4LZQkSZIGmSVNkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRCljRJkqQSsqRJkiSVkCVNkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRCljRJkqQSsqRJkiSVkCVNkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRCljRJkqQSKm1Ji4j3RsR9EbE+ImYUnUeSJGk4lbakAfcC/xO4teggkiRJw62x6ACbk5kPAERE0VEkSZKGXZn3pEmSJNWtQvekRcSNwLReXjozM6/pw3pOBE4E2HPPPQcpnSRJUnEKLWmZecQgrWcWMAtgxowZORjrlCRJKpKHOyVJkkqotCUtIo6JiEXAW4D/jIifFZ1JkiRpuJR5dudVwFVF55AkSSpCafekSZIk1TNLmiRJUglZ0iRJkkrIkiZJklRCljRJkqQSsqRJkiSVkCVNkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRCljRJkqQSsqRJkiSVkCVNkiSphCxpkiRJJRSZWXSGQRURy4HHt/HtOwJPD2GckcSx6OFY9HAsejgWPRyLHo5FD8eiR1/G4hWZObW3F0ZdSeuLiGjPzBlF5ygDx6KHY9HDsejhWPRwLHo4Fj0cix6DNRYe7pQkSSohS5okSVIJ1XtJm1V0gBJxLHo4Fj0cix6ORQ/Hoodj0cOx6DEoY1HX56RJkiSVVb3vSZMkSSqlui9pEXFARNweEXdHRHtEHFx0piJFxKci4qGIuC8izik6T9Ei4rSIyIjYsegsRYmIcyPiwYj4fURcFREtRWcaThFxVO1n4pGIOL3oPEWKiD0i4uaIeKD2GXFy0ZmKFBENEfG7iJhbdJaiRURLRPyk9lnxQES8pehMRYmIz9R+Pu6NiMsjorm/66r7kgacA5yVmQcAX649r0sR8Q7gb4DXZ+Z+wHkFRypUROwBHAk8UXSWgs0H9s/M1wMPA18oOM+wiYgG4LvAO4HXAsdHxGuLTVWobuDUzHwN8GbgH+t8PE4GHig6REl8C/ivzHw18AbqdFwiYjfg08CMzNwfaACO6+/6LGmQwMTa15OAxQVmKdpJwFczcw1AZi4rOE/RvgF8juq/kbqVmfMys7v29HZg9yLzDLODgUcyc0FmrgV+RPUXmbqUmUsy87e1r1dS/Y94t2JTFSMidgf+Gji/6CxFi4iJwNuBCwAyc21mdhSbqlCNwLiIaATGM4BeYUmDU4BzI2Ih1T1HdbOXoBf7Am+LiDsi4hcRcVDRgYoSEe8GnszMe4rOUjIfBm4oOsQw2g1YuNHzRdRpKdlUREwHDgTuKDZJYb5J9Ze49UUHKYG9geXARbXDv+dHxHZFhypCZj5JtUs8ASwBVmTmvP6ur3GwgpVZRNwITOvlpTOBw4HPZOZPI+J9VH8TOGI48w2nrYxFIzCZ6mGMg4ArImLvHKVTgLcyFmcAfzW8iYqzpbHIzGtq7zmT6uGuy4YzW8Gil2Wj8uehLyJiAvBT4JTMfL7oPMMtIlqBZZl5V0TMLDpPCTQCbwQ+lZl3RMS3gNOBLxUba/hFxGSqe9v3AjqAH0fE32fmpf1ZX12UtMzcbOmKiEuonlcA8GNG+a7rrYzFScCVtVL2m4hYT/X+Y8uHK99w2txYRMTrqP6A3RMRUD2899uIODgznxrGiMNmS/8uACLig0ArcPhoLe2bsQjYY6Pnu1Pfp0QQERWqBe2yzLyy6DwFOQR4d0S8C2gGJkbEpZn59wXnKsoiYFFmbtir+hOqJa0eHQE8mpnLASLiSuAvgX6VNA93Vj9wD619fRjwxwKzFO1qqmNAROwLNFGHN8vNzD9k5k6ZOT0zp1P9AHrjaC1oWxMRRwGfB96dmauLzjPM7gT2iYi9IqKJ6gnA1xacqTBR/a3lAuCBzPx60XmKkplfyMzda58PxwE/r+OCRu2zcWFE/EVt0eHA/QVGKtITwJsjYnzt5+VwBjCJoi72pG3Fx4Bv1U7w6wROLDhPkS4ELoyIe4G1wAfrbK+JevcdYCwwv7Zn8fbM/HixkYZHZnZHxCeBn1GdpXVhZt5XcKwiHQK0AX+IiLtry87IzOsLzKRy+BRwWe2XmQXAhwrOU4ja4d6fAL+lenrI7xjA3Qe844AkSVIJebhTkiSphCxpkiRJJWRJkyRJKiFLmiRJUglZ0iRJkkrIkiZJklRCljRJqomI3OTR262yBmtbp22yrR8O1bYkjUxezFaSXupx4Ie1r1cN4XZuA84CWui5NZ0kvciL2UpSTUQk8IvMnDmM25wOPApcnJknDNd2JZWfhzslSZJKyJImaUSLiKtr53R9qpfXzq69dv4gbGf6hnPHIuKVEfGTiHgmIlZGxLyI2L/2vqkRMSsilkREZ0TcGRHvGOj2JdUfS5qkke7DwBPAuRFx4IaFEXE4cAZwP/DpQdzedOAOYGeq567NA44AbomIfYDbgYOAOcAVwBuAGyJiz0HMIKkOWNIkjWiZ+SxwPNAAzImICRGxE3ApsAZ4X2auHsRNHgp8IzPflpmnZubfAv8E7EC1vM0H3pSZp2TmB4CPAGOBzwxiBkl1wJImacTLzNuALwH7AN+nWtCmAZ/OzPsGeXOPAV/dZNnFtT/HAp/NzPUbvfYfQDdwwCDnkDTKeQkOSaPF14CZwPtrzy/PzAGfi9aLuzNz3SbLFtf+fDgzV278Qmaui4ilwO5DkEXSKOaeNEmjQlavJ3TVRou+OUSbWtHLtrs391pNN1AZojySRilLmqRRoXbS/nnAc8B64PyIaC42lST1nyVN0ogXEWOpzqbcDjgO+ArwOoZub5okDTlLmqTR4DzgQOCczJxHdbblr4F/iIj3FZpMkvrJkiZpRIuI9wCfpHr5iy9C9WR9qpfleBb4QUTsXVxCSeofS5qkEat2gdgLqZ6wf/xGJ/CTmQupXuh2IvCjiGgqJqUk9Y+X4JA0YmXmE8CULbx+DRCDtK3HtrSuzNzSa9MHI4Ok+uKeNEl6qUNr9+jMiJg2VBuJiNMiIoFHh2obkkY296RJUo+zNnm+agi3ddsm27t7CLclaQSK6vUfJUmSVCYe7pQkSSohS5okSVIJWdIkSZJKyJImSZJUQpY0SZKkErKkSZIkldD/BzxaIQJNLshzAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="join_sun" class="doc_header"><code>join_sun</code><a href="https://github.com/tcapelle/capetools/tree/master/capetools/modelling/mypvfactors.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>join_sun</code>(<strong><code>tmy_data</code></strong>:<code>DataFrame</code>, <strong><code>sunpos</code></strong>:<code>DataFrame</code>, <strong><code>pvarray_params</code></strong>:<code>dict</code>)</p>
</blockquote>
<p>Concats meteo data with sunpos</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">meteo_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;temp_air&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_speed&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_dir&#39;</span><span class="p">,</span> <span class="s1">&#39;ghi&#39;</span><span class="p">,</span> <span class="s1">&#39;dni&#39;</span><span class="p">,</span> <span class="s1">&#39;dhi&#39;</span><span class="p">,</span> <span class="s1">&#39;ghi30&#39;</span><span class="p">,</span>
              <span class="s1">&#39;ref_cell_30&#39;</span><span class="p">,</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;humidity&#39;</span><span class="p">]</span>
<span class="n">sunpos_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;apparent_zenith&#39;</span><span class="p">,</span> <span class="s1">&#39;zenith&#39;</span><span class="p">,</span> <span class="s1">&#39;apparent_elevation&#39;</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">,</span> 
               <span class="s1">&#39;azimuth&#39;</span><span class="p">,</span> <span class="s1">&#39;equation_of_time&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">join_sun</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">meteo_cols</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">sunpos_cols</span><span class="p">],</span> <span class="n">pvarray_params</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ghi</th>
      <th>dni</th>
      <th>dhi</th>
      <th>zenith</th>
      <th>azimuth</th>
      <th>elevation</th>
      <th>surface_tilt</th>
      <th>surface_azimuth</th>
      <th>albedo</th>
    </tr>
    <tr>
      <th>Date UTC</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 00:00:00</th>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>157.028814</td>
      <td>12.053823</td>
      <td>-67.028814</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-01-01 01:00:00</th>
      <td>-0.93</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>152.142520</td>
      <td>42.533373</td>
      <td>-62.142520</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-01-01 02:00:00</th>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>143.742340</td>
      <td>63.390006</td>
      <td>-53.742340</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-01-01 03:00:00</th>
      <td>-0.83</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>133.848157</td>
      <td>78.092116</td>
      <td>-43.848157</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-01-01 04:00:00</th>
      <td>-0.72</td>
      <td>0.00</td>
      <td>-0.83</td>
      <td>123.435454</td>
      <td>89.729489</td>
      <td>-33.435454</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2019-12-31 19:00:00</th>
      <td>-1.36</td>
      <td>0.09</td>
      <td>-1.36</td>
      <td>120.109907</td>
      <td>266.843772</td>
      <td>-30.109907</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-12-31 20:00:00</th>
      <td>-1.36</td>
      <td>-0.09</td>
      <td>-1.48</td>
      <td>130.567903</td>
      <td>277.905352</td>
      <td>-40.567903</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-12-31 21:00:00</th>
      <td>-1.48</td>
      <td>-0.09</td>
      <td>-1.63</td>
      <td>140.699448</td>
      <td>291.371504</td>
      <td>-50.699448</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-12-31 22:00:00</th>
      <td>-1.36</td>
      <td>0.19</td>
      <td>-1.06</td>
      <td>149.735013</td>
      <td>309.824457</td>
      <td>-59.735013</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
    <tr>
      <th>2019-12-31 23:00:00</th>
      <td>-1.23</td>
      <td>-0.09</td>
      <td>-1.13</td>
      <td>156.040645</td>
      <td>337.110537</td>
      <td>-66.040645</td>
      <td>38</td>
      <td>180</td>
      <td>0.4</td>
    </tr>
  </tbody>
</table>
<p>8760 rows Ã— 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">tmy_file</span><span class="p">,</span> <span class="n">pvarray_parameters</span><span class="p">,</span> <span class="n">reader</span><span class="o">=</span><span class="s1">&#39;pvgis&#39;</span><span class="p">):</span>
    <span class="s2">&quot;A convenience method to read PVGIS and generic tmy files&quot;</span>
    <span class="k">if</span> <span class="n">reader</span> <span class="o">==</span> <span class="s1">&#39;pvgis&#39;</span><span class="p">:</span>
        <span class="n">gps_data</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">tmy_data</span> <span class="o">=</span> <span class="n">read_pvgis</span><span class="p">(</span><span class="n">tmy_file</span><span class="p">,</span> <span class="n">coerce_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">gps_data</span><span class="p">,</span> <span class="n">tmy_data</span> <span class="o">=</span> <span class="n">read_tmy</span><span class="p">(</span><span class="n">tmy_file</span><span class="p">,</span> <span class="n">coerce_year</span><span class="o">=</span><span class="mi">2018</span><span class="p">)</span>

    <span class="n">solpos</span> <span class="o">=</span> <span class="p">(</span><span class="n">pvlib</span>
             <span class="o">.</span><span class="n">solarposition</span>
             <span class="o">.</span><span class="n">get_solarposition</span><span class="p">(</span><span class="n">tmy_data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> 
                                <span class="n">gps_data</span><span class="p">[</span><span class="s1">&#39;Latitude&#39;</span><span class="p">],</span> 
                                <span class="n">gps_data</span><span class="p">[</span><span class="s1">&#39;Longitude&#39;</span><span class="p">],</span>
                                <span class="n">gps_data</span><span class="p">[</span><span class="s1">&#39;Elevation&#39;</span><span class="p">])</span>
             <span class="p">)</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="n">merge_data</span><span class="p">(</span><span class="n">tmy_data</span><span class="p">,</span> <span class="n">solpos</span><span class="p">,</span> <span class="n">pvarray_parameters</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pvarray_parameters</span><span class="p">[</span><span class="s1">&#39;tracking&#39;</span><span class="p">]:</span>
        <span class="n">back_track</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">pvarray_parameters</span><span class="p">[</span><span class="s1">&#39;n_pvrows&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">back_track</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">tracking</span> <span class="o">=</span> <span class="p">(</span><span class="n">pvlib</span>
                    <span class="o">.</span><span class="n">tracking</span>
                    <span class="o">.</span><span class="n">singleaxis</span><span class="p">(</span><span class="n">apparent_zenith</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">zenith</span><span class="p">,</span> 
                                <span class="n">apparent_azimuth</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">azimuth</span><span class="p">,</span> 
                                <span class="n">axis_azimuth</span><span class="o">=</span><span class="n">pvarray_parameters</span><span class="p">[</span><span class="s1">&#39;axis_azimuth&#39;</span><span class="p">],</span> 
                                <span class="n">backtrack</span><span class="o">=</span><span class="n">back_track</span><span class="p">,</span>
                                <span class="n">gcr</span><span class="o">=</span><span class="n">pvarray_parameters</span><span class="p">[</span><span class="s1">&#39;gcr&#39;</span><span class="p">])</span>
                    <span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">data</span><span class="o">.</span><span class="n">surface_azimuth</span> <span class="o">=</span> <span class="n">tracking</span><span class="o">.</span><span class="n">surface_azimuth</span>
        <span class="n">data</span><span class="o">.</span><span class="n">surface_tilt</span> <span class="o">=</span> <span class="n">tracking</span><span class="o">.</span><span class="n">surface_tilt</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>
 

